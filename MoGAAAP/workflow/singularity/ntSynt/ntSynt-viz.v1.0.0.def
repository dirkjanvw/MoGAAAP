Bootstrap: docker
From: condaforge/mambaforge:latest

%post
    apt-get update -y && apt-get install -y wget unzip

%post
    mamba install -y -c conda-forge -c bioconda quicktree snakemake intervaltree r-base bioconductor-treeio r-ggpubr bioconductor-ggtree r-phytools r-dplyr r-argparse r-scales r-stringr

%post
    cd /opt
    wget https://github.com/bcgsc/ntSynt-viz/releases/download/v1.0.0/ntSynt-viz-1.0.0.tar.gz
    tar xvzf ntSynt-viz-1.0.0.tar.gz
    rm ntSynt-viz-1.0.0.tar.gz

%post
    R -e 'install.packages(c("gggenomes"), repos = "https://cran.r-project.org")'

%environment
    PATH="$PATH:/opt/ntSynt-viz-1.0.0/bin"
