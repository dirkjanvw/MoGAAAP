# Make sure minimal version is snakemake 8
from snakemake.utils import min_version
min_version("8")

# Load configuration
configfile: "config/config.yaml"

# Include modules
include: "rules/common.smk"
include: "rules/assembly/all.smk"
include: "rules/scaffolding/all.smk"
include: "rules/analysis/all.smk"
include: "rules/annotation/all.smk"
include: "rules/quality_control/all.smk"

# Define global wildcard constraints
wildcard_constraints:
    minlen="\\d+"

# Define output of all modules
rule all:
    input:
        "results/1.assembly/.done",
        "results/2.scaffolding/.done",
        "results/3.analysis/.done",
        "results/4.annotation/.done",
        "results/5.quality_control/.done",
